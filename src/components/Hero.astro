<section class="hero">
  <div class="container">
    <div class="content">
      <h1 class="name">
        Gustavo<br />
        <span class="gradient-text">Garozzo</span>
      </h1>

      <p class="role">
        Backend Developer Ssr — Node.js & NestJS
      </p>

      <p class="tagline">
      Diseño y construcci&oacute;n de APIs robustas para entornos productivos
      </p>

      <nav class="links">
        <div class="primary-actions">
          <a href="/cv.pdf" target="_blank" class="btn-primary">
            Descargar CV
          </a>
          <a href="/guia-nestjs.pdf" download class="btn-secondary">
            Guía NestJS Trainee
          </a>
        </div>
        <div class="social-links">
          <a href="mailto:gustavogarozzo@gmail.com" class="link-item">Email</a>
          <a href="https://github.com/gusgarozzo" target="_blank" class="link-item">GitHub</a>
          <a href="https://linkedin.com/in/gusgarozzo" target="_blank" class="link-item">LinkedIn</a>
        </div>
      </nav>
    </div>

    <div class="hero-graphic">
      <div class="terminal-window">
        <div class="terminal-header">
          <div class="dot red"></div>
          <div class="dot yellow"></div>
          <div class="dot green"></div>
        </div>
        <div class="terminal-body" id="console-content">
          <div class="block prominent">
            <div class="line"><span class="prompt">›</span> whoami</div>
            <div class="line indent text-highlight">Backend Developer · 4+ años de exp.</div>
          </div>

          <div class="block prominent">
            <div class="line"><span class="prompt">›</span> especialidad</div>
            <div class="line indent text-highlight">Diseño de APIs · Escalabilidad</div>
          </div>

          <div class="block muted">
            <div class="line"><span class="prompt">›</span> stack</div>
            <div class="line indent">Node.js · NestJS · TypeScript</div>
          </div>

          <div class="block muted">
            <div class="line"><span class="prompt">›</span> db</div>
            <div class="line indent">PostgreSQL</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="decoration"></div>

  <style>
    .hero {
      padding: 4rem 0;
      position: relative;
      overflow: visible; /* Allow graphic to float freely if needed */
    }

    .container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 3rem;
      align-items: center;
    }

    @media (min-width: 900px) {
      .container {
        grid-template-columns: 1.2fr 0.8fr;
      }
    }

    .name {
      font-size: 4rem;
      font-weight: 800;
      line-height: 1;
      margin-bottom: 1.5rem;
      letter-spacing: -0.03em;
    }
    
    @media (min-width: 768px) {
      .name {
         font-size: 5rem;
         margin-bottom: 2rem;
      }
    }

    .role {
      font-size: 1.25rem;
      color: var(--color-muted);
      margin-bottom: 2rem;
      font-weight: 500;
      max-width: 600px;
      line-height: 1.5;
    }
    
    @media (min-width: 768px) {
      .role {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
      }
    }

    .tagline {
      font-size: 1.1rem;
      color: var(--color-text);
      margin-bottom: 2rem;
      font-weight: 500;
      max-width: 600px;
      line-height: 1.5;
      opacity: 0.9;
    }
    
    @media (min-width: 768px) {
      .tagline {
        font-size: 1.25rem;
        margin-bottom: 2.5rem;
      }
    }

    .links {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      align-items: flex-start;
      flex-wrap: wrap;
    }

    .primary-actions {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .social-links {
      display: flex;
      gap: 1.5rem;
      align-items: center;
    }

    .btn-primary {
      background: var(--gradient-primary);
      color: white;
      text-decoration: none;
      padding: 0.8rem 1.5rem;
      border-radius: var(--radius-md);
      font-weight: 600;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow: var(--shadow-md);
    }

    .btn-secondary {
      background: var(--color-background-off);
      color: var(--color-text);
      border: 1px solid var(--color-border);
      text-decoration: none;
      padding: 0.8rem 1.5rem;
      border-radius: var(--radius-md);
      font-weight: 600;
      transition: all 0.2s ease;
    }

    .btn-secondary:hover {
      border-color: var(--color-primary);
      transform: translateY(-2px);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .link-item {
      font-weight: 600;
      color: var(--color-text);
      position: relative;
      text-decoration: none;
    }

    .link-item::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 2px;
      bottom: -4px;
      left: 0;
      background: var(--gradient-primary);
      transform: scaleX(0);
      transform-origin: right;
      transition: transform 0.3s ease;
    }

    .link-item:hover {
      color: var(--color-primary);
    }

    .link-item:hover::after {
      transform: scaleX(1);
      transform-origin: left;
    }
    
    /* Graphic Styles */
    .hero-graphic {
      display: none;
      justify-content: center;
      perspective: 1000px;
    }

    @media (min-width: 900px) {
      .hero-graphic {
        display: flex;
      }
    }

    /* Terminal Styles */
    .terminal-window {
      background: rgba(13, 17, 23, 0.75); /* Modern translucent dark */
      backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 12px;
      padding: 1.5rem;
      width: 100%;
      max-width: 440px;
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.4); /* Deeper, diffuse shadow */
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.95rem;
      line-height: 1.8;
      transition: transform 0.3s ease;
      transform-style: preserve-3d;
      transform: rotateY(-8deg) rotateX(4deg);
    }
    
    :global([data-theme="light"]) .terminal-window {
       background: rgba(255, 255, 255, 0.75);
       border-color: rgba(0,0,0,0.08);
       box-shadow: 0 30px 60px rgba(0,0,0,0.1);
    }

    .terminal-window:hover {
      transform: rotateY(0) rotateX(0) translateY(-5px);
    }

    .terminal-header {
      display: flex;
      gap: 0.6rem;
      margin-bottom: 1.25rem;
    }

    .dot {
      width: 11px;
      height: 11px;
      border-radius: 50%;
      opacity: 0.8;
    }

    .red { background: #ff5f56; }
    .yellow { background: #ffbd2e; }
    .green { background: #27c93f; }

    .terminal-body {
      color: #a9b7c6;
    }
    
    :global([data-theme="light"]) .terminal-body {
      color: #333;
    }

    .line {
      min-height: 1.8em;
      display: flex;
      align-items: center;
      flex-wrap: wrap; 
    }

    .cursor {
      display: inline-block;
      width: 0.5em;
      height: 1.1em;
      background-color: var(--color-primary);
      margin-left: 4px;
      animation: blink 0.8s step-end infinite;
      vertical-align: middle;
    }

    .prompt {
      color: var(--color-primary);
      margin-right: 0.5rem;
      font-weight: 600;
      opacity: 0.9;
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    .indent { padding-left: 1.5rem; }

    /* Terminal Hierarchy */
    .block {
      margin-bottom: 1rem;
    }

    .prominent .line.indent {
      font-size: 1.05rem;
      font-weight: 600;
      color: var(--color-text);
    }

    .muted {
      opacity: 0.8;
      font-size: 0.9rem;
    }

    .text-highlight {
      color: var(--color-primary) !important;
    }

    .decoration {
      position: absolute;
      top: -50px;
      right: -50px;
      width: 200px;
      height: 200px;
      background: var(--gradient-primary);
      filter: blur(80px);
      opacity: 0.2;
      border-radius: 50%;
      z-index: -1;
      pointer-events: none;
    }

    @keyframes float {
      0% { transform: translateY(0px) rotateY(-10deg) rotateX(5deg); }
      50% { transform: translateY(-15px) rotateY(-10deg) rotateX(5deg); }
      100% { transform: translateY(0px) rotateY(-10deg) rotateX(5deg); }
    }
    
    /* Modify float for hover state to prevent conflict? 
       Actually, hover overrides transform, so animation might look jerky on hover.
       Let's pause animation on hover or wrap it. 
       For simplicity, let's keep it simple. */
       
  </style>
</section>

<script>
  function initTerminal() {
    const container = document.getElementById('console-content');
    if (!container) return;

    // Capture original blocks and clear container
    const blocks = Array.from(container.querySelectorAll('.block'));
    container.innerHTML = '';
    
    const cursor = document.createElement('span');
    cursor.className = 'cursor';

    const wait = (ms) => new Promise(resolve => setTimeout(resolve, ms));
    const randomDelay = (min, max) => Math.floor(Math.random() * (max - min + 1) + min);

    async function typeText(text, element) {
      for (const char of text) {
        element.appendChild(document.createTextNode(char));
        // Append cursor after the newly added character
        element.appendChild(cursor);
        await wait(randomDelay(40, 100)); // Natural typing pace
      }
    }

    async function run() {
      await wait(800); // Initial delay
      
      for (let i = 0; i < blocks.length; i++) {
        const block = blocks[i];
        const lines = Array.from(block.querySelectorAll('.line'));
        
        const blockDiv = document.createElement('div');
        blockDiv.className = block.className;
        container.appendChild(blockDiv);

        for (let j = 0; j < lines.length; j++) {
          const line = lines[j];
          const lineDiv = document.createElement('div');
          lineDiv.className = line.className;
          blockDiv.appendChild(lineDiv);

          const promptEl = line.querySelector('.prompt');
          if (promptEl) {
            // It's a command line
            const promptSpan = document.createElement('span');
            promptSpan.className = 'prompt';
            promptSpan.textContent = promptEl.textContent.trim() + ' ';
            lineDiv.appendChild(promptSpan);
            
            // Text to type (removing the prompt character from original)
            const cmdText = line.textContent.replace(promptEl.textContent, '').trim();
            lineDiv.appendChild(cursor);
            await wait(300); // Ready to type
            await typeText(cmdText, lineDiv);
            await wait(400); // "Enter" pause
          } else {
            // It's an output line
            lineDiv.appendChild(cursor);
            const outputText = line.textContent.trim();
            for (const char of outputText) {
                lineDiv.insertBefore(document.createTextNode(char), cursor);
                await wait(randomDelay(10, 30));
            }
            await wait(600); // Pause before next block
          }
        }
      }
    }
    
    run();
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initTerminal);
  } else {
    initTerminal();
  }
</script>
